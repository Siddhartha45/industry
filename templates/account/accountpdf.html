{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>PDF Users</title>
    <style>
        h1 {
            text-align: center;
        }
        table {
            width: 100%;
            border-collapse: collapse;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
        }
    </style>
</head>

<body id="userlist">
    <h1>List of Accounts</h1>
    <table class="report-view-table">
        <thead>
            <tr>
                <th>S.no</th>
                <th>Username</th>
                <th>Fullname</th>
                <th>Role</th>
                <th>Email</th>
                <th>Phone No.</th>
            </tr>
        </thead>
        <tbody>
        {% for i in account %}
            <tr>
                <td>{{ forloop.counter }}</td>
                <td>{{ i.username }}</td>
                <td>{{ i.fullname }}</td>
                <td>{{ i.getRoleName }}</td>
                <td>{{ i.email }}</td>
                <td>{{ i.phone_no }}</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js" integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        var element = document.getElementById('userlist');
        var options = {
            pagebreak: { mode: 'auto' }, // Enable page breaks using legacy mode
            margin: [18, 10, 27, 10]
        };
        html2pdf().set(options).from(element).save();
    </script>

</body>
</html>